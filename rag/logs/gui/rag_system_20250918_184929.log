{"timestamp": "2025-09-18T18:49:29.549431", "level": "INFO", "message": "Sistema de registro de logs configurado", "run_id": "20250918_184929", "log_file": "logs/gui/rag_system_20250918_184929.log", "debug": false, "max_file_size": 10485760, "backup_count": 5}
{"timestamp": "2025-09-18T18:49:29.549674", "level": "INFO", "log_domain": "streamlit_utils", "function": "initialize_logging_session", "message": "--- Logger inicializado ---", "caller": "gui.streamlit_utils"}
{"timestamp": "2025-09-18T18:49:29.551012", "level": "INFO", "log_domain": "streamlit_utils", "function": "load_configuration", "message": "Tentando carregar a configura\u00e7\u00e3o da aplica\u00e7\u00e3o (dados cacheados)", "caller": "gui.streamlit_utils"}
{"timestamp": "2025-09-18T18:49:29.551333", "level": "INFO", "log_domain": "streamlit_utils", "function": "get_config_manager", "message": "Criando e cacheando inst\u00e2ncia ConfigManager para o caminho padr\u00e3o.", "caller": "gui.streamlit_utils"}
{"timestamp": "2025-09-18T18:49:29.551817", "level": "INFO", "log_domain": "config_manager", "function": "__init__", "message": "ConfigManager inicializado para o caminho: /workspaces/SiteICAgente/rag/config.toml", "caller": "src.config.config_manager"}
{"timestamp": "2025-09-18T18:49:29.552440", "level": "INFO", "log_domain": "config_manager", "function": "load_config", "message": "Carregando configura\u00e7\u00e3o de: /workspaces/SiteICAgente/rag/config.toml (com tomlkit)", "caller": "src.config.config_manager"}
{"timestamp": "2025-09-18T18:49:29.562754", "level": "INFO", "log_domain": "config_manager", "function": "load_config", "message": "Configura\u00e7\u00e3o carregada e validada com sucesso.", "caller": "src.config.config_manager"}
{"timestamp": "2025-09-18T18:49:29.563185", "level": "INFO", "log_domain": "streamlit_utils", "function": "load_configuration", "message": "Configura\u00e7\u00e3o carregada com sucesso.", "caller": "gui.streamlit_utils"}
{"timestamp": "2025-09-18T18:49:29.563461", "level": "INFO", "log_domain": "streamlit_utils", "function": "load_configuration", "message": "CUDA Availability Check: False", "caller": "gui.streamlit_utils"}
{"timestamp": "2025-09-18T18:49:29.565280", "level": "INFO", "log_domain": "streamlit_utils", "function": "get_domain_manager", "message": "Criando inst\u00e2ncia DomainManager (cacheada)", "caller": "gui.streamlit_utils"}
{"timestamp": "2025-09-18T18:49:29.565997", "level": "INFO", "log_domain": "utils", "function": "__init__", "message": "Inicializando o SQLiteManager", "caller": "src.utils.sqlite_manager"}
{"timestamp": "2025-09-18T18:49:29.566325", "level": "INFO", "log_domain": "utils", "function": "__init__", "message": "Inicializando DomainManager", "caller": "src.utils.domain_manager"}
{"timestamp": "2025-09-18T18:49:29.569206", "level": "INFO", "log_domain": "utils", "function": "list_domains", "message": "Listando dominios de conhecimento", "caller": "src.utils.domain_manager"}
{"timestamp": "2025-09-18T18:49:29.569713", "level": "INFO", "log_domain": "utils", "function": "get_connection", "message": "Conectando ao banco de dados de controle em: storage/domains/control.db", "caller": "src.utils.sqlite_manager"}
{"timestamp": "2025-09-18T18:49:29.570337", "level": "INFO", "log_domain": "utils", "function": "list_domains", "message": "Nenhum dominio encontrado no banco de dados.", "caller": "src.utils.domain_manager"}
{"timestamp": "2025-09-18T18:49:29.575904", "level": "INFO", "log_domain": "utils", "function": "create_domain", "message": "Adicionando novo dom\u00ednio de conhecimento", "caller": "src.utils.domain_manager", "name": "Teste", "description": "Test", "keywords": "Teste", "db_path": "storage/domains/teste/teste.db", "vector_store_path": "storage/domains/teste/vector_store/teste.faiss"}
{"timestamp": "2025-09-18T18:49:29.576102", "level": "INFO", "log_domain": "utils", "function": "get_connection", "message": "Conectando ao banco de dados de controle em: storage/domains/control.db", "caller": "src.utils.sqlite_manager"}
{"timestamp": "2025-09-18T18:49:29.576513", "level": "INFO", "log_domain": "utils", "function": "begin", "message": "Iniciando uma transacao com o banco de dados", "caller": "src.utils.sqlite_manager"}
{"timestamp": "2025-09-18T18:49:29.577895", "level": "INFO", "log_domain": "utils", "function": "insert_domain", "message": "Inserindo dominio de conhecimento no banco de dados: Teste", "caller": "src.utils.sqlite_manager"}
{"timestamp": "2025-09-18T18:49:29.585578", "level": "ERROR", "log_domain": "utils", "function": "create_domain", "message": "Erro ao adicionar novo dom\u00ednio de conhecimento: 'chunking_strategy'", "caller": "src.utils.domain_manager", "exc_info": true}
Traceback (most recent call last):
  File "/workspaces/SiteICAgente/rag/src/utils/domain_manager.py", line 91, in create_domain
    "chunking_strategy": new_domain_data["chunking_strategy"],
                         ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
KeyError: 'chunking_strategy'
Stack (most recent call last):
  File "/home/codespace/.python/current/lib/python3.12/threading.py", line 1030, in _bootstrap
    self._bootstrap_inner()
  File "/home/codespace/.python/current/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/home/codespace/.python/current/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/workspaces/SiteICAgente/.venv/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/script_runner.py", line 368, in _run_script_thread
    self._run_script(request.rerun_data)
  File "/workspaces/SiteICAgente/.venv/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/script_runner.py", line 656, in _run_script
    ) = exec_func_with_error_handling(code_to_exec, ctx)
  File "/workspaces/SiteICAgente/.venv/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/exec_code.py", line 121, in exec_func_with_error_handling
    result = func()
  File "/workspaces/SiteICAgente/.venv/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/script_runner.py", line 640, in code_to_exec
    exec(code, module.__dict__)
  File "/workspaces/SiteICAgente/rag/RAGAdmin.py", line 148, in <module>
    domain_manager.create_domain(domain_data)
  File "/workspaces/SiteICAgente/rag/src/utils/domain_manager.py", line 110, in create_domain
    self.logger.error(f"Erro ao adicionar novo dom√≠nio de conhecimento: {e}", exc_info=True)
{"timestamp": "2025-09-18T18:49:39.869024", "level": "INFO", "log_domain": "utils", "function": "list_domains", "message": "Listando dominios de conhecimento", "caller": "src.utils.domain_manager"}
{"timestamp": "2025-09-18T18:49:39.869518", "level": "INFO", "log_domain": "utils", "function": "get_connection", "message": "Conectando ao banco de dados de controle em: storage/domains/control.db", "caller": "src.utils.sqlite_manager"}
{"timestamp": "2025-09-18T18:49:39.871006", "level": "INFO", "log_domain": "utils", "function": "list_domains", "message": "Dominios listados com sucesso", "caller": "src.utils.domain_manager", "domains": ["Teste"]}
{"timestamp": "2025-09-18T18:50:00.075196", "level": "INFO", "log_domain": "gui/DomainManagement", "function": "<module>", "message": "--- DEBUG Domain Management: Renderizando toggle, estado \u00e9 False ---", "caller": "__main__"}
{"timestamp": "2025-09-18T18:50:00.076331", "level": "INFO", "log_domain": "utils", "function": "list_domains", "message": "Listando dominios de conhecimento", "caller": "src.utils.domain_manager"}
{"timestamp": "2025-09-18T18:50:00.076889", "level": "INFO", "log_domain": "utils", "function": "get_connection", "message": "Conectando ao banco de dados de controle em: storage/domains/control.db", "caller": "src.utils.sqlite_manager"}
{"timestamp": "2025-09-18T18:50:00.077616", "level": "INFO", "log_domain": "utils", "function": "list_domains", "message": "Dominios listados com sucesso", "caller": "src.utils.domain_manager", "domains": ["Teste"]}
{"timestamp": "2025-09-18T18:50:00.087690", "level": "INFO", "log_domain": "gui/utils", "function": "get_domain_documents", "message": "Listando documentos para o dom\u00ednio: Teste", "caller": "gui.streamlit_utils"}
{"timestamp": "2025-09-18T18:50:00.088228", "level": "INFO", "log_domain": "utils", "function": "list_domain_documents", "message": "Listando documentos do dominio de conhecimento", "caller": "src.utils.domain_manager", "domain_name": "Teste"}
{"timestamp": "2025-09-18T18:50:00.090518", "level": "INFO", "log_domain": "utils", "function": "get_connection", "message": "Conectando ao banco de dados de controle em: storage/domains/control.db", "caller": "src.utils.sqlite_manager"}
{"timestamp": "2025-09-18T18:50:00.091418", "level": "WARNING", "log_domain": "utils", "function": "list_domain_documents", "message": "Banco de dados do dominio nao encontrado", "caller": "src.utils.domain_manager", "domain_db_path": "storage/domains/teste/teste.db"}
{"timestamp": "2025-09-18T18:50:00.091585", "level": "INFO", "log_domain": "gui/utils", "function": "get_domain_documents", "message": "Encontrados 0 documentos para Teste.", "caller": "gui.streamlit_utils"}
{"timestamp": "2025-09-18T18:50:05.152548", "level": "INFO", "log_domain": "gui/DomainManagement", "function": "<module>", "message": "--- DEBUG Domain Management: Renderizando toggle, estado \u00e9 False ---", "caller": "__main__"}
{"timestamp": "2025-09-18T18:50:05.154179", "level": "INFO", "log_domain": "utils", "function": "list_domains", "message": "Listando dominios de conhecimento", "caller": "src.utils.domain_manager"}
{"timestamp": "2025-09-18T18:50:05.154558", "level": "INFO", "log_domain": "utils", "function": "get_connection", "message": "Conectando ao banco de dados de controle em: storage/domains/control.db", "caller": "src.utils.sqlite_manager"}
{"timestamp": "2025-09-18T18:50:05.155335", "level": "INFO", "log_domain": "utils", "function": "list_domains", "message": "Dominios listados com sucesso", "caller": "src.utils.domain_manager", "domains": ["Teste"]}
{"timestamp": "2025-09-18T18:50:05.375551", "level": "INFO", "log_domain": "gui/DomainManagement", "function": "<module>", "message": "--- DEBUG Domain Management: Renderizando toggle, estado \u00e9 False ---", "caller": "__main__"}
{"timestamp": "2025-09-18T18:50:05.377205", "level": "INFO", "log_domain": "utils", "function": "list_domains", "message": "Listando dominios de conhecimento", "caller": "src.utils.domain_manager"}
{"timestamp": "2025-09-18T18:50:05.377430", "level": "INFO", "log_domain": "utils", "function": "get_connection", "message": "Conectando ao banco de dados de controle em: storage/domains/control.db", "caller": "src.utils.sqlite_manager"}
{"timestamp": "2025-09-18T18:50:05.378219", "level": "INFO", "log_domain": "utils", "function": "list_domains", "message": "Dominios listados com sucesso", "caller": "src.utils.domain_manager", "domains": ["Teste"]}
{"timestamp": "2025-09-18T18:50:05.388312", "level": "INFO", "log_domain": "gui/utils", "function": "get_domain_documents", "message": "Listando documentos para o dom\u00ednio: Teste", "caller": "gui.streamlit_utils"}
{"timestamp": "2025-09-18T18:50:05.389546", "level": "INFO", "log_domain": "utils", "function": "list_domain_documents", "message": "Listando documentos do dominio de conhecimento", "caller": "src.utils.domain_manager", "domain_name": "Teste"}
{"timestamp": "2025-09-18T18:50:05.390056", "level": "INFO", "log_domain": "utils", "function": "get_connection", "message": "Conectando ao banco de dados de controle em: storage/domains/control.db", "caller": "src.utils.sqlite_manager"}
{"timestamp": "2025-09-18T18:50:05.390878", "level": "WARNING", "log_domain": "utils", "function": "list_domain_documents", "message": "Banco de dados do dominio nao encontrado", "caller": "src.utils.domain_manager", "domain_db_path": "storage/domains/teste/teste.db"}
{"timestamp": "2025-09-18T18:50:05.391063", "level": "INFO", "log_domain": "gui/utils", "function": "get_domain_documents", "message": "Encontrados 0 documentos para Teste.", "caller": "gui.streamlit_utils"}
{"timestamp": "2025-09-18T18:50:09.856673", "level": "INFO", "log_domain": "gui/DomainManagement", "function": "<module>", "message": "--- DEBUG Domain Management: Renderizando toggle, estado \u00e9 False ---", "caller": "__main__"}
{"timestamp": "2025-09-18T18:50:09.857758", "level": "INFO", "log_domain": "utils", "function": "list_domains", "message": "Listando dominios de conhecimento", "caller": "src.utils.domain_manager"}
{"timestamp": "2025-09-18T18:50:09.858305", "level": "INFO", "log_domain": "utils", "function": "get_connection", "message": "Conectando ao banco de dados de controle em: storage/domains/control.db", "caller": "src.utils.sqlite_manager"}
{"timestamp": "2025-09-18T18:50:09.859233", "level": "INFO", "log_domain": "utils", "function": "list_domains", "message": "Dominios listados com sucesso", "caller": "src.utils.domain_manager", "domains": ["Teste"]}
{"timestamp": "2025-09-18T18:50:09.864813", "level": "INFO", "log_domain": "utils", "function": "remove_domain_registry_and_files", "message": "Removendo dominio de conhecimento", "caller": "src.utils.domain_manager", "domain_name": "Teste"}
{"timestamp": "2025-09-18T18:50:09.865682", "level": "INFO", "log_domain": "utils", "function": "get_connection", "message": "Conectando ao banco de dados de controle em: storage/domains/control.db", "caller": "src.utils.sqlite_manager"}
{"timestamp": "2025-09-18T18:50:09.866499", "level": "INFO", "log_domain": "utils", "function": "begin", "message": "Iniciando uma transacao com o banco de dados", "caller": "src.utils.sqlite_manager"}
{"timestamp": "2025-09-18T18:50:09.866994", "level": "WARNING", "log_domain": "utils", "function": "remove_domain_registry_and_files", "message": "Diretorio do dominio nao encontrado, removendo o registro do dominio", "caller": "src.utils.domain_manager", "domain_name": "Teste"}
{"timestamp": "2025-09-18T18:50:09.876344", "level": "INFO", "log_domain": "utils", "function": "remove_domain_registry_and_files", "message": "Dominio de conhecimento removido com sucesso", "caller": "src.utils.domain_manager", "domain_name": "Teste"}
{"timestamp": "2025-09-18T18:50:10.098733", "level": "INFO", "log_domain": "gui/DomainManagement", "function": "<module>", "message": "--- DEBUG Domain Management: Renderizando toggle, estado \u00e9 False ---", "caller": "__main__"}
{"timestamp": "2025-09-18T18:50:10.100889", "level": "INFO", "log_domain": "utils", "function": "list_domains", "message": "Listando dominios de conhecimento", "caller": "src.utils.domain_manager"}
{"timestamp": "2025-09-18T18:50:10.101347", "level": "INFO", "log_domain": "utils", "function": "get_connection", "message": "Conectando ao banco de dados de controle em: storage/domains/control.db", "caller": "src.utils.sqlite_manager"}
{"timestamp": "2025-09-18T18:50:10.101918", "level": "INFO", "log_domain": "utils", "function": "list_domains", "message": "Nenhum dominio encontrado no banco de dados.", "caller": "src.utils.domain_manager"}
{"timestamp": "2025-09-18T18:50:22.843607", "level": "INFO", "log_domain": "gui/DomainManagement", "function": "<module>", "message": "--- DEBUG Domain Management: Renderizando toggle, estado \u00e9 False ---", "caller": "__main__"}
{"timestamp": "2025-09-18T18:50:22.845045", "level": "INFO", "log_domain": "utils", "function": "list_domains", "message": "Listando dominios de conhecimento", "caller": "src.utils.domain_manager"}
{"timestamp": "2025-09-18T18:50:22.845303", "level": "INFO", "log_domain": "utils", "function": "get_connection", "message": "Conectando ao banco de dados de controle em: storage/domains/control.db", "caller": "src.utils.sqlite_manager"}
{"timestamp": "2025-09-18T18:50:22.845961", "level": "INFO", "log_domain": "utils", "function": "list_domains", "message": "Nenhum dominio encontrado no banco de dados.", "caller": "src.utils.domain_manager"}
{"timestamp": "2025-09-18T18:51:13.744153", "level": "INFO", "log_domain": "gui/DomainManagement", "function": "<module>", "message": "--- DEBUG Domain Management: Renderizando toggle, estado \u00e9 False ---", "caller": "__main__"}
{"timestamp": "2025-09-18T18:51:13.745575", "level": "INFO", "log_domain": "utils", "function": "list_domains", "message": "Listando dominios de conhecimento", "caller": "src.utils.domain_manager"}
{"timestamp": "2025-09-18T18:51:13.745775", "level": "INFO", "log_domain": "utils", "function": "get_connection", "message": "Conectando ao banco de dados de controle em: storage/domains/control.db", "caller": "src.utils.sqlite_manager"}
{"timestamp": "2025-09-18T18:51:13.746674", "level": "INFO", "log_domain": "utils", "function": "list_domains", "message": "Nenhum dominio encontrado no banco de dados.", "caller": "src.utils.domain_manager"}
{"timestamp": "2025-09-18T18:51:23.592321", "level": "INFO", "log_domain": "utils", "function": "list_domains", "message": "Listando dominios de conhecimento", "caller": "src.utils.domain_manager"}
{"timestamp": "2025-09-18T18:51:23.592771", "level": "INFO", "log_domain": "utils", "function": "get_connection", "message": "Conectando ao banco de dados de controle em: storage/domains/control.db", "caller": "src.utils.sqlite_manager"}
{"timestamp": "2025-09-18T18:51:23.593435", "level": "INFO", "log_domain": "utils", "function": "list_domains", "message": "Nenhum dominio encontrado no banco de dados.", "caller": "src.utils.domain_manager"}
{"timestamp": "2025-09-18T18:51:26.511719", "level": "INFO", "log_domain": "utils", "function": "list_domains", "message": "Listando dominios de conhecimento", "caller": "src.utils.domain_manager"}
{"timestamp": "2025-09-18T18:51:26.512355", "level": "INFO", "log_domain": "utils", "function": "get_connection", "message": "Conectando ao banco de dados de controle em: storage/domains/control.db", "caller": "src.utils.sqlite_manager"}
{"timestamp": "2025-09-18T18:51:26.513202", "level": "INFO", "log_domain": "utils", "function": "list_domains", "message": "Nenhum dominio encontrado no banco de dados.", "caller": "src.utils.domain_manager"}
{"timestamp": "2025-09-18T18:51:28.316330", "level": "INFO", "log_domain": "utils", "function": "list_domains", "message": "Listando dominios de conhecimento", "caller": "src.utils.domain_manager"}
{"timestamp": "2025-09-18T18:51:28.316584", "level": "INFO", "log_domain": "utils", "function": "get_connection", "message": "Conectando ao banco de dados de controle em: storage/domains/control.db", "caller": "src.utils.sqlite_manager"}
{"timestamp": "2025-09-18T18:51:28.317625", "level": "INFO", "log_domain": "utils", "function": "list_domains", "message": "Nenhum dominio encontrado no banco de dados.", "caller": "src.utils.domain_manager"}
{"timestamp": "2025-09-18T18:51:30.406555", "level": "INFO", "log_domain": "utils", "function": "list_domains", "message": "Listando dominios de conhecimento", "caller": "src.utils.domain_manager"}
{"timestamp": "2025-09-18T18:51:30.406802", "level": "INFO", "log_domain": "utils", "function": "get_connection", "message": "Conectando ao banco de dados de controle em: storage/domains/control.db", "caller": "src.utils.sqlite_manager"}
{"timestamp": "2025-09-18T18:51:30.407621", "level": "INFO", "log_domain": "utils", "function": "list_domains", "message": "Nenhum dominio encontrado no banco de dados.", "caller": "src.utils.domain_manager"}
{"timestamp": "2025-09-18T18:53:26.655127", "level": "INFO", "log_domain": "utils", "function": "list_domains", "message": "Listando dominios de conhecimento", "caller": "src.utils.domain_manager"}
{"timestamp": "2025-09-18T18:53:26.655453", "level": "INFO", "log_domain": "utils", "function": "get_connection", "message": "Conectando ao banco de dados de controle em: storage/domains/control.db", "caller": "src.utils.sqlite_manager"}
{"timestamp": "2025-09-18T18:53:26.656138", "level": "INFO", "log_domain": "utils", "function": "list_domains", "message": "Nenhum dominio encontrado no banco de dados.", "caller": "src.utils.domain_manager"}
